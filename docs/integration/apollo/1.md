<IntegrationDetailCard :title="`配置 Apollo`">

进入部署目录，在 config 目录下创建 application-oidc.yml
```
server:
  # 解析反向代理请求头
  forward-headers-strategy: framework
spring:
  security:
    oauth2:
      client:
        provider:
          Authing: # oidc 提供者的名称, 任意字符均可
            issuer-uri: 上一步复制的 issuer-uri
        registration:
          Apollo:
            authorization-grant-type: authorization_code
            client-authentication-method: basic
            client-id: 上一步复制的 ClientID
            provider: Authing # oidc 客户端的名称, 任意字符均可，需和 provider-name 保持一致
            scope: # Scope 配置，想要添加其他配置，按 “- field” 的方式添加
              - openid
              - profile
              - email
              - username
            client-secret: 上一步复制的 ClientSecret
```

修改scripts/startup.sh
```
export JAVA_OPTS="$JAVA_OPTS -Dspring.profiles.active=github,oidc"
```

发起登录 Url：Apollo 的域名，例如：https://apollo.dev.authing-inc.co

Apollo 回调地址：一般为 https://${domain}/oauth2/authorization/Apollo，例如：https://apollo.dev.authing-inc.co/oauth2/authorization/Apollo

- 也可通过控制台获取

回到 Authing 配置页，点击**体验登录**
![](~@imagesZhCn/integration/apollo/2-2.png)

输入账号密码，打开控制台，点击 Network 选项，选择 All。点击登录按钮

![](~@imagesZhCn/integration/apollo/2-3.png)

找到 Apollo 的回调 Url，复制 ? 前的部分

![](~@imagesZhCn/integration/apollo/2-4.png)

在**应用详情** -> **访问授权** 页面选择「允许所有用户访问」。

![](~@imagesZhCn/integration/apollo/2-1.png)

</IntegrationDetailCard>
